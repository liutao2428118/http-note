# HTTP/2迁移

## 浏览器的支持情况

目前大约 80% 的浏览器可以在一定程度上支持 h2。这意味着，只要网站开启h2，相当一部分就可以开始享受 h2 带来的益处。

![Image text](/images2/1648623682(1).png)

## 迁移到 TLS

所有主流浏览器只能访问基于 TLS （即 H1 PS 请求）的 h2 这就意味着你需要支持 TLS,否则游戏就没诠玩了。

为增加的服务器负载做准备: 

* 保持连接开启尽可能长的时间。 TLS 成本最高的地方就是连接时的握手过程
连接时间能保持足够长，握手次数就可以减少。

* 使用会 舌凭证。会话凭证允许客户端复用上次握手时完成的复杂的加解密计算结果，
直接重连服务器。

* 使用内置加解密支持的芯片。 Inte 现代处理器上拥有的 AES-NI 指令，能大大加快
对称加解密的速度。

## 撤销针对HTTP/1.1 的“优化”

Web 开发者之前花费了大量心血来充分使用 hl ，并且已经总结了 些诀窍，例如资源合井、域名拆分、极简化、 禁用 cooki 巳的域名、生成精灵图，等等。所以，当得知这些实 践中 有些在 下变成反模式时，你可能会感到吃惊。

![Image text](/images2/1648623948(1).png)

## 第三方资源

所以，应该拿第 方内容怎么办？要找到答案，可以从下列问题开始。

* 用到的第 方资掘支持 HτTPS 吗？
* 它们是否计划支持 HπP/2 ?
* 它们是否意识到，自己应当尽可能降低所提供的资惊对页面性能的影响，并将其视为关
键任务？